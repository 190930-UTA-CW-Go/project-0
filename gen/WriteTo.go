package gen

import "database/sql"

/*
WriteTo takes the slices generated by MakeBeverage, MakeStock and MakeIndex and puts them
into the *machine* table one at a time. Additionally, it also places the brand into the
table. The format will be *index, beverage name, amount of stock, brand name*.
*/
func WriteTo(db *sql.DB, index []string, beverage []string, stock []int, br string) {
	var in, be string
	var st int
	db.Exec("DELETE FROM machine;")

	for i := range index {
		in = index[i]
		be = beverage[i]
		st = stock[i]

		db.Exec("INSERT INTO machine VALUES ($1, $2, $3, $4);", in, be, st, br)
	}
}
